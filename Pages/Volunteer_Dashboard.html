<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <h1>Welcome to the Dashboard</h1>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>
    <script src="../firebase.js"></script>
    <script>
        // Initialize Firebase
        firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
    const userEmail = user.email;
    console.log(userEmail);

    // Get the "authorizations" field for the current user's email from the "Volunteers" collection
    firebase.firestore().collection("Volunteers").doc(userEmail).get().then((doc) => {
        if (doc.exists) {
            const authorizations = doc.data().Authorizations;
            // Show the buttons based on the authorizations field
            if (authorizations.includes("Transport")) {
              const transportBtn = document.createElement('button');
                transportBtn.textContent = 'Transport Panel';
                document.body.append(transportBtn);
            }

            if (authorizations.includes("Telephone")) {
              const TelephoneBtn = document.createElement('button');
                TelephoneBtn.textContent = 'Telephone Panel';
                document.body.append(TelephoneBtn);
            }

            transportBtn.addEventListener('click', () => {
            window.location.href = "../Pages/Volunteer_Events.html"; 


            });
            TelephoneBtn.addEventListener('click',()=>{
                window.location.href = "../Pages/Telephone_Panel.html";

            });




           
        } else {
            console.log("No such document!");
        }
    }).catch((error) => {
        console.log("Error getting document:", error);
    });
  } else {
    // No user is signed in.
    console.log("User not signed in");
  }
});








    </script>
</body>
</html>
