<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Borrow Form</title>
	<link rel="stylesheet" type="text/css" href="../styles/Borrow_style.css">
</head>
<body>
	<form>
		<h1>Borrow application</h1>
		<label for="contact-name">Contact Name:</label>
		<input type="text" id="contact-name" name="contact-name" required><br><br>
		
		<label for="contact-number">Contact Number:</label>
		<input type="tel" id="contact-number" name="contact-number" required><br><br>
		
		<label for="patient-name">Name of Patient:</label>
		<input type="text" id="patient-name" name="patient-name" required><br><br>
		
		<label for="patient-number">Patient's Phone Number:</label>
		<input type="tel" id="patient-number" name="patient-number" required><br><br>
		
		<label for="cell-number">Cell Phone Number:</label>
		<input type="tel" id="cell-number" name="cell-number" required><br><br>
		
		<label for="address">Address:</label>
		<textarea id="address" name="address" required></textarea><br><br>
		
		<input type="button" value="Submit" onclick="submitData()">
	</form>
	
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="../firebase.js"></script>
    <script>


// Initialize Firestore
const db = firebase.firestore();

// Get form elements
const contactNameInput = document.getElementById("contact-name");
const contactNumberInput = document.getElementById("contact-number");
const patientNameInput = document.getElementById("patient-name");
const patientNumberInput = document.getElementById("patient-number");
const cellNumberInput = document.getElementById("cell-number");
const addressInput = document.getElementById("address");
const deliveryTypeInput = document.getElementsByName("delivery-type");

// Function to submit form data to Firestore
function submitData() {
  // Get the values from the form
  const contactName = contactNameInput.value;
  const contactNumber = contactNumberInput.value;
  const patientName = patientNameInput.value;
  const patientNumber = patientNumberInput.value;
  const cellNumber = cellNumberInput.value;
  const address = addressInput.value;
  let deliveryType = "";
  
// Loop through the delivery type options and check which one is selected
for (let i = 0; i < deliveryTypeInput.length; i++) {
if (deliveryTypeInput[i].checked) {
deliveryType = deliveryTypeInput[i].value;
break;
}
}

// Save the form data to Firestore
db.collection("Borrow_List").add({
contact_name: contactName,
contact_number: contactNumber,
patient_name: patientName,
patient_number: patientNumber,
cell_number: cellNumber,
address: address,
delivery_type: deliveryType
})
.then(() => {
console.log("Form data saved successfully!");
// Clear the form inputs after submission
contactNameInput.value = "";
contactNumberInput.value = "";
patientNameInput.value = "";
patientNumberInput.value = "";
cellNumberInput.value = "";
addressInput.value = "";
deliveryTypeInput[0].checked = false;
deliveryTypeInput[1].checked = false;
})
.catch((error) => {
console.error("Error saving form data: ", error);
});
}

    </script>

</body>
</html>
